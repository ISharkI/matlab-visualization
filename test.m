function y = test(x)
%TEST Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.3 and the DSP System Toolbox 8.6.
% Generated on: 17-Jul-2014 18:29:57

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR Window Highpass filter designed using the FIR1 function.
    %
    % % All frequency values are in Hz.
    % Fs = 48000;  % Sampling Frequency
    %
    % Fstop = 9600;            % Stopband Frequency
    % Fpass = 12000;           % Passband Frequency
    % Dstop = 0.0001;          % Stopband Attenuation
    % Dpass = 0.057501127785;  % Passband Ripple
    % flag  = 'scale';         % Sampling Flag
    %
    % % Calculate the order from the parameters using KAISERORD.
    % [N,Wn,BETA,TYPE] = kaiserord([Fstop Fpass]/(Fs/2), [0 1], [Dpass Dstop]);
    %
    % % Calculate the coefficients using the FIR1 function.
    % b  = fir1(N, Wn, TYPE, kaiser(N+1, BETA), flag);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-2.60948501204578e-06 -2.8845473423461e-05 ...
        -7.03155684534813e-06 6.25177956750195e-05 4.17801122605269e-05 ...
        -0.000100915091412092 -0.000116572623383346 0.000125478138605178 ...
        0.000242147921318671 -0.000105378157505279 -0.000417371562599959 ...
        -1.39542528270778e-18 0.000620923893362443 0.000233757495992121 ...
        -0.000804673595653224 -0.000629245174610725 0.000891511965414689 ...
        0.00119414405840719 -0.000780240153223368 -0.00189357800394444 ...
        0.000359159145184036 0.00263614507522039 0.000471625393332827 ...
        -0.00326724326093838 -0.0017712292739327 0.00357358057830724 ...
        0.00352641490584047 -0.00330120374192036 -0.00562291142416143 ...
        0.00218691556954296 0.00782540829782449 -3.14581971774086e-17 ...
        -0.00977068803794174 -0.00341165295625904 0.0109751191043416 ...
        0.00807895529950926 -0.0108521168074019 -0.0138811374547277 ...
        0.00872584071254431 0.0205348747642907 -0.00380928520977979 ...
        -0.0276077603374018 -0.00493122109320358 0.0345568144957809 ...
        0.0192597330998198 -0.0407881317337198 -0.0434529085306683 ...
        0.0457295517783986 0.0933461145149782 -0.0489053031107456 ...
        -0.313951370574714 0.550006417169162 -0.313951370574714 ...
        -0.0489053031107456 0.0933461145149782 0.0457295517783986 ...
        -0.0434529085306683 -0.0407881317337198 0.0192597330998198 ...
        0.0345568144957809 -0.00493122109320358 -0.0276077603374018 ...
        -0.00380928520977979 0.0205348747642907 0.00872584071254431 ...
        -0.0138811374547277 -0.0108521168074019 0.00807895529950926 ...
        0.0109751191043416 -0.00341165295625904 -0.00977068803794174 ...
        -3.14581971774086e-17 0.00782540829782449 0.00218691556954296 ...
        -0.00562291142416143 -0.00330120374192036 0.00352641490584047 ...
        0.00357358057830724 -0.0017712292739327 -0.00326724326093838 ...
        0.000471625393332827 0.00263614507522039 0.000359159145184036 ...
        -0.00189357800394444 -0.000780240153223368 0.00119414405840719 ...
        0.000891511965414689 -0.000629245174610725 -0.000804673595653224 ...
        0.000233757495992121 0.000620923893362443 -1.39542528270778e-18 ...
        -0.000417371562599959 -0.000105378157505279 0.000242147921318671 ...
        0.000125478138605178 -0.000116572623383346 -0.000100915091412092 ...
        4.17801122605269e-05 6.25177956750195e-05 -7.03155684534813e-06 ...
        -2.8845473423461e-05 -2.60948501204578e-06]);
end

y = step(Hd,x);


% [EOF]
